// Toggle buttons convert a checkbox into
// an on/off switch.
$toggle-width: $button-med-height * 2;
$toggle-border-width: 2px;

.toggle-checkbox {
  position: relative;
  display: inline-block;
  height: $button-med-height;
  width: $toggle-width;
  overflow: hidden;

  // Position out of the bounding box.
  input {
    z-index: -1;
    position: absolute;
  }

  .switch {
    cursor: pointer;
    display: inline-block;
    position: relative;
    height: $button-med-height;
    width: 100%;
    min-width: auto;

    // default to off color
    background: var(--color-bg-low);
    border-radius: $border-radius;
    transition: all 200ms cubic-bezier(0.445, 0.05, 0.55, 0.95);
    box-shadow: inset 0 2px 2px hsla(0, 0%, 0%, 0.2);
  }

  .on,
  .off {
    position: absolute;
    line-height: $button-med-height;
    font-size: 14px;
    z-index: 2;
    transition: all 200ms cubic-bezier(0.445, 0.05, 0.55, 0.95);
  }
  .off {
    left: 12px;
    color: var(--color-foreground);
  }
  .on {
    right: 8px;
    color: var(--color-foreground);
  }
  .knob {
    display: inline-block;
    position: relative;
    z-index: 1;
    background: var(--color-bg);
    width: $toggle-width / 2;
    height: $button-med-height - ($toggle-border-width * 2);
    border-radius: $border-radius;
    border: 1px solid var(--color-bg);
    box-shadow: 0 2px 2px 1px hsla(0, 0%, 0%, 0.2);
    top: $toggle-border-width;
    left: $toggle-border-width;
    transition: all 200ms cubic-bezier(0.445, 0.05, 0.55, 0.95);
    transform: translateX(0px);
  }

  // Active state for the knob
  input:focus + .switch .knob,
  input:focus + .switch .knob {
    border-color: var(--color-input-focus-border);
    box-shadow: var(--color-input-focus-shadow) 0 0 0 3px;
  }
  input:checked + .switch .knob {
    background: var(--color-toggle-checked);
    width: ($toggle-width / 2) - $toggle-border-width;
    transform: translateX(($toggle-width / 2) - $toggle-border-width);
    border-color: var(--color-toggle-checked);
  }
}


// Disabled toggles
.toggle-disabled {
  cursor: not-allowed;

  .toggle-switch {
    cursor: not-allowed;
    background: var(--color-muted);
  }
  .toggle-switch:before {
    color: var(--color-muted);
  }
}
