.dropdown-menu {
  display: flex;
  align-items: center;

  > [data-active=true] {
    // Tweak the active button backdown.
    z-index: $z-active-ui;
  }

}

/**
 * Because of portals this is a top level selector.
 */
.dropdown-menu-menu {
  visibility: hidden;
  width: max-content;
  z-index: $z-menu;

  background: var(--color-bg);
  border: 1px solid var(--color-border-med);
  border-radius: $border-radius;
  box-shadow: $shadow-med;

  &[data-visible="true"] {
    visibility: visible;
  }

  .arrow {
    width: 16px;
    height: 16px;
    z-index: -1;
  }
  .arrow:after {
    position: relative;
    top: -9px;
    display: block;
    width: 16px;
    height: 16px;
    content: '';
    transform: rotate(-45deg);

    background: var(--color-bg);
    border: 1px solid transparent;
  }
  &[data-popper-placement^="bottom"] .arrow:after {
    border-top-color: var(--color-border-med);
    border-right-color: var(--color-border-med);
  }

  ul {
    display: flex;
    flex-direction: column;
    list-style: none;
    margin: 0;
    padding: 0;
  }
  li {
    display: flex;
    list-style: none;
  }

  ul li:last-child {
    margin-bottom: 0;
  }

  .context-item-text,
  .context-item {
    display: flex;
    align-items: center;
    flex-grow: 1;

    background: none;
    border: none;
    color: var(--color-foreground);

    border-radius: 0;
    box-shadow: none;
    padding: $space $space * 1.5;
    text-align: left;
    height: auto;

    line-height: 1.3;
    text-decoration: none;
  }

  .context-item {
    &:active,
    &:hover {
      background: var(--color-menu-hover);
    }
  }

  .context-item svg {
    margin-right: $space;
  }

  // Action specific styles
  .context-item.delete svg,
  .context-item.delete:hover {
    color: var(--color-action-delete);
  }
  .context-item.archive svg {
    color: var(--color-low-emphasis);
  }
  .context-item.edit svg {
    color: var(--color-action-edit);
  }
  .context-item.lock svg {
    color: var(--color-action-lock);
  }

  .separator {
    border-bottom: 1px solid var(--color-border);
  }
}
